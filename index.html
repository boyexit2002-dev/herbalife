<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”¢å“è¨‚è³¼ç³»çµ± - ä¿®æ­£ç‰ˆ</title>
    <style>
        :root { --primary: #2c3e50; --secondary: #27ae60; --accent: #e67e22; }
        body { font-family: "Microsoft JhengHei", sans-serif; background: #f4f7f6; padding: 15px; }
        .container { max-width: 1150px; margin: auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        h2 { text-align: center; color: var(--primary); border-bottom: 3px solid var(--secondary); padding-bottom: 10px; }
        .setup-row { display: flex; justify-content: space-between; align-items: center; background: #f9f9f9; padding: 15px; border-radius: 8px; margin-bottom: 20px; }
        .discount-label { font-size: 1.1rem; font-weight: bold; color: var(--primary); }
        select { padding: 10px 15px; font-size: 16px; border: 2px solid var(--secondary); border-radius: 5px; cursor: pointer; background: white; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th { background: var(--primary); color: white; padding: 12px 5px; font-size: 14px; position: sticky; top: 0; }
        td { border: 1px solid #ddd; padding: 8px 5px; text-align: center; }
        .sku-input, .price-input { width: 90%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; font-weight: bold; text-align: center; }
        .price-input { background-color: #fffdf0; border: 1px solid var(--accent); color: #d35400; }
        .qty-input { width: 60px; padding: 8px; border: 1px solid #ccc; border-radius: 4px; text-align: center; }
        .name-cell { text-align: left; padding-left: 10px; font-size: 13px; color: #444; }
        .total-section { margin-top: 25px; display: flex; gap: 20px; }
        .card { flex: 1; padding: 20px; border-radius: 10px; color: white; text-align: center; }
        .card-money { background: var(--secondary); }
        .card-pv { background: #2980b9; }
        .card-label { font-size: 1.1rem; margin-bottom: 8px; }
        .card-value { font-size: 2.2rem; font-weight: bold; }
        .btn-clear { background: #e74c3c; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; float: right; margin-top: 15px; font-weight: bold; }
        tr:nth-child(even) { background-color: #fcfcfc; }
        .highlight { color: var(--accent); font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ“‹ ç”¢å“è¨‚è³¼ç³»çµ± (å·²ä¿®æ­£èªæ³•éŒ¯èª¤)</h2>

    <div class="setup-row">
        <div class="discount-label">
            ğŸ“ æ‰¹é‡å¸¶å…¥æŠ˜æ‰£åƒ¹ï¼š
            <select id="discount-tier" onchange="updateAllPricesByTier()">
                <option value="suggested">å»ºè­°é›¶å”®åƒ¹ (åŸåƒ¹)</option>
                <option value="p25">25% æŠ˜æ‰£åƒ¹</option>
                <option value="p35">35% æŠ˜æ‰£åƒ¹</option>
                <option value="p42">42% æŠ˜æ‰£åƒ¹</option>
                <option value="p50" selected>50% æŠ˜æ‰£åƒ¹</option>
            </select>
        </div>
        <div style="font-size: 13px; color: #e67e22;">ğŸ’¡ æ©˜è‰²æ¬„ä½ç‚ºã€Œå–®åƒ¹ã€ï¼Œè¼¸å…¥è²¨è™Ÿå¾Œæœƒè‡ªå‹•å¸¶å…¥ï¼Œä¹Ÿå¯æ‰‹å‹•ä¿®æ”¹ã€‚</div>
    </div>

    <table>
        <thead>
            <tr>
                <th width="4%">#</th>
                <th width="12%">è²¨è™Ÿ</th>
                <th width="32%">ç”¢å“åç¨±</th>
                <th width="12%">å–®åƒ¹ (å¯æ”¹)</th>
                <th width="10%">å–®å“ PV</th>
                <th width="8%">æ•¸é‡</th>
                <th width="11%">é‡‘é¡å°è¨ˆ</th>
                <th width="11%">é»æ•¸å°è¨ˆ</th>
            </tr>
        </thead>
        <tbody id="main-table"></tbody>
    </table>

    <div class="total-section">
        <div class="card card-money">
            <div class="card-label">ğŸ’° æ‡‰ä»˜ç¸½é‡‘é¡</div>
            <div class="card-value">$ <span id="final-money">0</span></div>
        </div>
        <div class="card card-pv">
            <div class="card-label">ğŸ“Š ç¸½è¨ˆé»æ•¸</div>
            <div class="card-value"><span id="final-pv">0</span> PV</div>
        </div>
    </div>

    <button class="btn-clear" onclick="resetForm()">ğŸ”„ æ¸…ç©ºè¡¨æ ¼</button>
</div>

<script>
// ç”¢å“è³‡æ–™åº« - å·²ä¿®æ­£å¤§æ‹¬è™ŸéŒ¯èª¤
const productDB = {
    "388K": { name: "ç‡Ÿé¤Šè›‹ç™½æ··åˆé£²æ–™-é¦™è‰(è—éµ²ç‰ˆ)", pv: 22.40, prices: { suggested: 1850, p25: 1424, p35: 1253, p42: 1134, p50: 998 } },
    "2770": { name: "ç‡Ÿé¤Šè›‹ç™½æ··åˆé£²æ–™-é¦™è‰", pv: 22.40, prices: { suggested: 1850, p25: 1424, p35: 1253, p42: 1134, p50: 998 } },
    "389K": { name: "ç‡Ÿé¤Šè›‹ç™½æ··åˆé£²æ–™-å·§å…‹åŠ›(é»‘ç†Šç‰ˆ)", pv: 22.40, prices: { suggested: 1850, p25: 1424, p35: 1253, p42: 1134, p50: 998 } },
    "2771": { name: "ç‡Ÿé¤Šè›‹ç™½æ··åˆé£²æ–™-å·§å…‹åŠ›", pv: 22.40, prices: { suggested: 1850, p25: 1424, p35: 1253, p42: 1134, p50: 998 } },
    "390K": { name: "ç‡Ÿé¤Šè›‹ç™½æ··åˆé£²æ–™-è‰è“(é˜¿é‡Œå±±é™å®šç‰ˆ)", pv: 22.40, prices: { suggested: 1850, p25: 1424, p35: 1253, p42: 1134, p50: 998 } },
    "2772": { name: "ç‡Ÿé¤Šè›‹ç™½æ··åˆé£²æ–™-è‰è“", pv: 22.40, prices: { suggested: 1850, p25: 1424, p35: 1253, p42: 1134, p50: 998 } },
    "1207": { name: "ç‡Ÿé¤Šè›‹ç™½æ··åˆé£²æ–™-è–„èå·§å…‹åŠ›", pv: 22.40, prices: { suggested: 1850, p25: 1424, p35: 1253, p42: 1134, p50: 998 } },
    "2487": { name: "ç‡Ÿé¤Šè›‹ç™½æ··åˆé£²æ–™-æ‹¿éµ", pv: 22.40, prices: { suggested: 1850, p25: 1424, p35: 1253, p42: 1134, p50: 998 } },
    "0271": { name: "ç‡Ÿé¤Šè›‹ç™½æ··åˆé£²æ–™-å·§é¤…", pv: 22.40, prices: { suggested: 1850, p25: 1424, p35: 1253, p42: 1134, p50: 998 } },
    "392K": { name: "ç‡Ÿé¤Šè›‹ç™½æ··åˆé£²æ–™-èŠ’æœ(å¹³æºªå¤©ç‡ˆç¯€é™å®šç‰ˆ)", pv: 22.40, prices: { suggested: 1850, p25: 1424, p35: 1253, p42: 1134, p50: 998 } },
    "2335": { name: "ç‡Ÿé¤Šè›‹ç™½æ··åˆé£²æ–™-èŠ’æœ", pv: 22.40, prices: { suggested: 1850, p25: 1424, p35: 1253, p42: 1134, p50: 998 } },
    "072K": { name: "ç‡Ÿé¤Šè›‹ç™½æ··åˆé£²æ–™-ç²¾é¸æ¤ç‰©é…æ–¹", pv: 23.30, prices: { suggested: 2167, p25: 1667, p35: 1468, p42: 1328, p50: 1169 } },
    "0367": { name: "å…’ç«¥ç‡Ÿé¤Šè›‹ç™½æ··åˆé£²æ–™-é¦™è‰(æ•ˆæœŸè¼ƒçŸ­)", pv: 19.95, prices: { suggested: 1594, p25: 1226, p35: 1079, p42: 977, p50: 859 } },
    "0242": { name: "å„ªè³ªè›‹ç™½ç²‰", pv: 17.95, prices: { suggested: 1433, p25: 1103, p35: 970, p42: 878, p50: 773 } },
    "217K": { name: "ç‰¹ç´šå„ªè³ªè›‹ç™½ç²‰", pv: 28.90, prices: { suggested: 2511, p25: 1956, p35: 1734, p42: 1579, p50: 1402 } },
    "247K": { name: "ç‰¹ç´šå„ªè³ªè›‹ç™½ç²‰-ç²¾é¸æ¤ç‰©é…æ–¹", pv: 28.90, prices: { suggested: 2804, p25: 2249, p35: 2027, p42: 1872, p50: 1695 } },
    "3122": { name: "è‰ç¶­éŒ ", pv: 10.00, prices: { suggested: 605, p25: 465, p35: 410, p42: 371, p50: 327 } },
    "3272": { name: "è”¬æœç‡Ÿé¤ŠéŒ  Garden 7", pv: 39.95, prices: { suggested: 2669, p25: 2054, p35: 1808, p42: 1636, p50: 1439 } },
    "1463": { name: "CR7å‹èƒ½é£² CR7 Drive", pv: 24.90, prices: { suggested: 1811, p25: 1422, p35: 1266, p42: 1157, p50: 1032 } },
    "1457": { name: "H24 é‹å‹•ç‡Ÿé¤Šé£²-é¦™è‰å£å‘³ H24", pv: 41.60, prices: { suggested: 3085, p25: 2374, p35: 2090, p42: 1890, p50: 1663 } },
    "1459": { name: "H24è³¦æ´»èƒ½é‡é£² H24", pv: 54.75, prices: { suggested: 3857, p25: 2967, p35: 2612, p42: 2363, p50: 2079 } },
    "0260": { name: "æ´»åŠ›é»å¿ƒæ£’-æª¸æª¬", pv: 7.70, prices: { suggested: 773, p25: 666, p35: 623, p42: 593, p50: 559 } },
    "1502": { name: "ç´«éŒèŠ±å¼·å¥é£²-èœ‚èœœé¦™æ©™", pv: 9.95, prices: { suggested: 752, p25: 579, p35: 509, p42: 461, p50: 405 } },
    "0022": { name: "äº”å‘³å­æ´»åŠ›éŒ ", pv: 15.50, prices: { suggested: 1139, p25: 877, p35: 772, p42: 698, p50: 614 } },
    "3151": { name: "Liftoff æ´»åŠ›ç™¼æ³¡éŒ -æ©˜å­", pv: 15.95, prices: { suggested: 1031, p25: 794, p35: 698, p42: 631, p50: 555 } },
    "3152": { name: "Liftoff æ´»åŠ›ç™¼æ³¡éŒ -æª¸æª¬è˜­å§†", pv: 15.95, prices: { suggested: 1031, p25: 794, p35: 698, p42: 631, p50: 555 } },
    "044K": { name: "èˆ’æ´»é£²", pv: 37.65, prices: { suggested: 2269, p25: 1746, p35: 1536, p42: 1390, p50: 1223 } },
    "0106": { name: "è‰æœ¬æ¿ƒç¸®é€Ÿæº¶èŒ¶é£²-åŸå‘³(102å…‹)", pv: 34.95, prices: { suggested: 2140, p25: 1646, p35: 1449, p42: 1311, p50: 1154 } },
    "2121": { name: "è‰æœ¬æ¿ƒç¸®é€Ÿæº¶èŒ¶é£²-èœœè–‘(102å…‹)", pv: 34.95, prices: { suggested: 2140, p25: 1646, p35: 1449, p42: 1311, p50: 1154 } },
    "0256": { name: "è‰æœ¬æ¿ƒç¸®é€Ÿæº¶èŒ¶é£²-è¦†ç›†å­(50å…‹)", pv: 19.95, prices: { suggested: 1248, p25: 961, p35: 845, p42: 765, p50: 673 } },
    "0102": { name: "ç“œæ‹¿é‚£è±†é€Ÿæº¶èŒ¶é£²(60å…‹)", pv: 14.75, prices: { suggested: 1024, p25: 788, p35: 693, p42: 627, p50: 552 } },
    "1427": { name: "ç¶ èŒ¶é£²-åŸå‘³", pv: 28.25, prices: { suggested: 1726, p25: 1328, p35: 1169, p42: 1057, p50: 930 } },
    "1428": { name: "ç¶ èŒ¶é£²-çŸ³æ¦´å£å‘³", pv: 28.25, prices: { suggested: 1726, p25: 1328, p35: 1169, p42: 1057, p50: 930 } },
    "0210": { name: "ç”²æ®¼çº–ç¶­ç´ ", pv: 24.05, prices: { suggested: 1680, p25: 1293, p35: 1138, p42: 1030, p50: 906 } },
    "0111": { name: "ç´°å–œéŒ ", pv: 15.75, prices: { suggested: 810, p25: 623, p35: 548, p42: 496, p50: 437 } },
    "0049": { name: "äº«å­…éŒ ", pv: 34.20, prices: { suggested: 2471, p25: 1902, p35: 1674, p42: 1514, p50: 1331 } },
    "2864": { name: "ç‡Ÿé¤Šçº–ç¶­ç²‰-è˜‹æœå£å‘³", pv: 22.95, prices: { suggested: 1761, p25: 1356, p35: 1193, p42: 1079, p50: 949 } },
    "2865": { name: "ç‡Ÿé¤Šçº–ç¶­ç²‰-åŸå‘³", pv: 22.95, prices: { suggested: 1761, p25: 1356, p35: 1193, p42: 1079, p50: 949 } },
    "0006": { name: "æ¿ƒç¸®è˜†è–ˆæ±-åŸå‘³", pv: 24.95, prices: { suggested: 1904, p25: 1465, p35: 1289, p42: 1167, p50: 1026 } },
    "1065": { name: "æ¿ƒç¸®è˜†è–ˆæ±-èŠ’æœå£å‘³", pv: 24.95, prices: { suggested: 1904, p25: 1465, p35: 1289, p42: 1167, p50: 1026 } },
    "1610": { name: "æ¿ƒç¸®è˜†è–ˆæ±-è‘¡è„å£å‘³", pv: 24.95, prices: { suggested: 1904, p25: 1465, p35: 1289, p42: 1167, p50: 1026 } },
    "1829": { name: "è³€å¯¶èŠ™ç›Šç”ŸèŒ", pv: 20.45, prices: { suggested: 1511, p25: 1162, p35: 1024, p42: 926, p50: 815 } },
    "0036": { name: "å¤œå¯§æ–°", pv: 89.95, prices: { suggested: 6001, p25: 4618, p35: 4065, p42: 3677, p50: 3234 } },
    "0065": { name: "æ·±æµ·é­šæ²¹è† å›Š", pv: 25.75, prices: { suggested: 1948, p25: 1499, p35: 1320, p42: 1194, p50: 1050 } },
    "0100": { name: "å—æ¥µç£·è¦æ²¹è† å›Š", pv: 35.50, prices: { suggested: 2473, p25: 1903, p35: 1675, p42: 1515, p50: 1332 } },
    "0565": { name: "è¤‡åˆå„ªè³ªéˆ£ç‰‡", pv: 10.70, prices: { suggested: 812, p25: 625, p35: 549, p42: 498, p50: 438 } },
    "1000": { name: "é—œæ·å¯¶ç‡Ÿé¤ŠéŒ ", pv: 44.00, prices: { suggested: 3314, p25: 2550, p35: 2245, p42: 2031, p50: 1786 } },
    "0056": { name: "è† åŸè›‹ç™½ç¾å¦é£²", pv: 43.55, prices: { suggested: 3168, p25: 2438, p35: 2145, p42: 1941, p50: 1707 } },
    "0566": { name: "ç•¶æ­¸éŒ ", pv: 13.30, prices: { suggested: 940, p25: 723, p35: 636, p42: 576, p50: 507 } },
    "0279": { name: "è¤‡åˆè“èè¯è† å›Š", pv: 13.95, prices: { suggested: 1099, p25: 846, p35: 744, p42: 674, p50: 593 } },
    "194K": { name: "èˆ’è¦–éŒ ", pv: 38.75, prices: { suggested: 2672, p25: 2056, p35: 1810, p42: 1637, p50: 1441 } },
    "145K": { name: "å„ªè­·é£²", pv: 10.75, prices: { suggested: 858, p25: 660, p35: 581, p42: 526, p50: 463 } },
    "75Z8": { name: "å„ªè³ªç‡Ÿé¤Šæ—©é¤çµ„", pv: 63.30, prices: { suggested: 5044, p25: 3882, p35: 3417, p42: 3090, p50: 2718 } },
    "75Z9": { name: "æ´»åŠ›ç‡Ÿé¤Šæ—©é¤çµ„", pv: 62.10, prices: { suggested: 4778, p25: 3676, p35: 3235, p42: 2927, p50: 2575 } },
    "76Z0": { name: "ä¿ƒé€²ä»£è¬æ—©é¤çµ„", pv: 82.30, prices: { suggested: 5894, p25: 4535, p35: 3991, p42: 3611, p50: 3176 } },
    "76Z1": { name: "é«”é‡ç®¡ç†çµ„", pv: 83.10, prices: { suggested: 5404, p25: 4159, p35: 3660, p42: 3312, p50: 2913 } },
    "76Z8": { name: "é’æ˜¥æ´»åŠ›çµ„-éˆæ´»", pv: 54.70, prices: { suggested: 4125, p25: 3174, p35: 2794, p42: 2527, p50: 2224 } },
    "76Z9": { name: "é’æ˜¥æ´»åŠ›çµ„-æ¶ˆåŒ–", pv: 68.35, prices: { suggested: 5175, p25: 3983, p35: 3505, p42: 3171, p50: 2790 } },
    "77Z0": { name: "é’æ˜¥æ´»åŠ›çµ„-ç¾éº—å‡ç´š", pv: 90.80, prices: { suggested: 6680, p25: 5141, p35: 4524, p42: 4093, p50: 3600 } },
    "77Z1": { name: "ç¾é£Ÿä¸‰æ³•å¯¶çµ„", pv: 74.00, prices: { suggested: 4960, p25: 3817, p35: 3359, p42: 3039, p50: 2673 } },
    "77Z2": { name: "é’æ˜¥æ´»åŠ›çµ„-æ¸…æ™°", pv: 92.65, prices: { suggested: 6441, p25: 4956, p35: 4362, p42: 3946, p50: 3471 } },
    "77Z3": { name: "é’æ˜¥æ´»åŠ›çµ„-360åº¦å¾ªç’°é€šæš¢", pv: 171.40, prices: { suggested: 12082, p25: 9316, p35: 8208, p42: 7433, p50: 6548 } },
    "77Z4": { name: "é’æ˜¥æ´»åŠ›çµ„-å€ä»–å¾ªç’°", pv: 110.15, prices: { suggested: 7662, p25: 5914, p35: 5214, p42: 4725, p50: 4165 } },
    "011K": { name: "é‡‘è³ªå†°å’–å•¡-æ‘©å¡", pv: 25.75, prices: { suggested: 1851, p25: 1425, p35: 1254, p42: 1134, p50: 998 } },
    "012K": { name: "é‡‘è³ªå†°å’–å•¡-æ‹¿éµ", pv: 25.75, prices: { suggested: 1851, p25: 1425, p35: 1254, p42: 1134, p50: 998 } },
    "0267": { name: "å€ä»–ç‡Ÿé¤Šç‡•éº¥é£²", pv: 20.20, prices: { suggested: 1661, p25: 1297, p35: 1151, p42: 1048, p50: 931 } },
    "127K": { name: "å¥³å£«ä¹‹é¸(å¤§è±†ç•°é»ƒé…®éŒ )", pv: 20.00, prices: { suggested: 1473, p25: 1134, p35: 998, p42: 903, p50: 794 } },
    "291K": { name: "ç›ŠçŸ¥æ–°", pv: 53.60, prices: { suggested: 3274, p25: 2519, p35: 2218, p42: 2007, p50: 1765 } },
    "0765": { name: "SKIN èˆ’é¡æ½”è†šå‡è† ", pv: 16.75, prices: { suggested: 981, p25: 755, p35: 665, p42: 601, p50: 529 } },
    "0766": { name: "SKIN ç…¥é¡æ½”è†šå‡è† ", pv: 16.75, prices: { suggested: 981, p25: 755, p35: 665, p42: 601, p50: 529 } },
    "0767": { name: "SKIN è‰æœ¬åŒ–å¦æ°´ 50ml", pv: 12.70, prices: { suggested: 743, p25: 572, p35: 503, p42: 456, p50: 401 } },
    "0891": { name: "SKIN è‰æœ¬åŒ–å¦æ°´ 150ml", pv: 32.30, prices: { suggested: 1863, p25: 1433, p35: 1261, p42: 1141, p50: 1004 } },
    "0768": { name: "SKIN é˜²çšºæ¥µç·»ç²¾è¯éœœ", pv: 37.70, prices: { suggested: 2205, p25: 1697, p35: 1493, p42: 1351, p50: 1189 } },
    "0770": { name: "SKIN ç·Šç·»çœ¼è† ", pv: 26.35, prices: { suggested: 1542, p25: 1187, p35: 1045, p42: 945, p50: 832 } },
    "0771": { name: "SKIN ä¿æ¿•çœ¼éœœ", pv: 26.35, prices: { suggested: 1542, p25: 1187, p35: 1045, p42: 945, p50: 832 } },
    "0772": { name: "SKIN ç¬é‡‡ç£¨ç ‚è†", pv: 13.10, prices: { suggested: 768, p25: 591, p35: 520, p42: 470, p50: 414 } },
    "0773": { name: "SKIN æ·±å±¤æ·¨åŒ–é¢è†œ", pv: 14.20, prices: { suggested: 831, p25: 639, p35: 563, p42: 509, p50: 448 } },
    "0769": { name: "SKIN ç…¥é¡æ—¥é–“ä¹³æ¶²", pv: 28.40, prices: { suggested: 1661, p25: 1278, p35: 1125, p42: 1017, p50: 896 } },
    "0774": { name: "SKIN è³¦æ´»æ™šéœœ", pv: 28.40, prices: { suggested: 1661, p25: 1278, p35: 1125, p42: 1017, p50: 896 } },
    "0899": { name: "SKIN é˜²æ›¬ä¹³æ¶²SPF30/PA+++", pv: 28.40, prices: { suggested: 1661, p25: 1278, p35: 1125, p42: 1017, p50: 896 } },
    "60Z7": { name: "SKIN æ¥µç·»é˜²çšºä¿é¤Šçµ„åˆ(ä¸­æ€§è‡³ä¹¾æ€§)(å«ç¦®è¢‹)", pv: 251.95, prices: { suggested: 14715, p25: 11322, p35: 9966, p42: 9015, p50: 7931 } },
    "60Z8": { name: "SKIN æ¥µç·»é˜²çšºä¿é¤Šçµ„åˆ(ä¸­æ€§è‡³æ²¹æ€§)(å«ç¦®è¢‹)", pv: 251.95, prices: { suggested: 14715, p25: 11322, p35: 9966, p42: 9015, p50: 7931 } },
    "2563": { name: "è˜†è–ˆæ»‹æ½¤ä¹³æ¶²", pv: 8.30, prices: { suggested: 501, p25: 385, p35: 339, p42: 307, p50: 270 } },
    "2562": { name: "è˜†è–ˆè­·è†šå‡éœ²", pv: 8.30, prices: { suggested: 501, p25: 385, p35: 339, p42: 307, p50: 270 } },
    "2561": { name: "è˜†è–ˆæ»‹æ½¤æ²æµ´ç²¾", pv: 8.30, prices: { suggested: 501, p25: 385, p35: 339, p42: 307, p50: 270 } },
    "2564": { name: "è˜†è–ˆæ´—é«®éœ²", pv: 8.30, prices: { suggested: 509, p25: 392, p35: 345, p42: 312, p50: 275 } },
    "111K": { name: "ç¶­ä»–å‘½é¢è†œ-ä¿æ¿•", pv: 9.50, prices: { suggested: 589, p25: 465, p35: 415, p42: 380, p50: 341 } },
    "112K": { name: "ç¶­ä»–å‘½é¢è†œ-ç¾ç™½", pv: 16.80, prices: { suggested: 985, p25: 758, p35: 667, p42: 604, p50: 531 } }
};

// åˆå§‹åŒ– 25 åˆ—
const tableBody = document.getElementById('main-table');
for (let i = 1; i <= 25; i++) {
    const tr = document.createElement('tr');
    tr.innerHTML = `
        <td>${i}</td>
        <td><input type="text" class="sku-input" oninput="fetchData(this)"></td>
        <td class="name-cell">-</td>
        <td><input type="number" class="price-input" value="0" oninput="calculateAll()"></td>
        <td class="p-pv">0</td>
        <td><input type="number" class="qty-input" min="0" oninput="calculateAll()"></td>
        <td class="highlight s-price">$ 0</td>
        <td class="highlight s-pv">0</td>
    `;
    tableBody.appendChild(tr);
}

function fetchData(input) {
    const row = input.parentElement.parentElement;
    const sku = input.value.trim().toUpperCase();
    const product = productDB[sku];
    const tier = document.getElementById('discount-tier').value;

    if (product) {
        row.querySelector('.name-cell').innerText = product.name;
        row.querySelector('.p-pv').innerText = product.pv.toFixed(2);
        row.querySelector('.price-input').value = product.prices[tier];
    } else {
        row.querySelector('.name-cell').innerText = sku ? "âŒ ç„¡æ­¤è²¨è™Ÿ" : "-";
        row.querySelector('.p-pv').innerText = "0";
        row.querySelector('.price-input').value = 0;
    }
    calculateAll();
}

function updateAllPricesByTier() {
    const tier = document.getElementById('discount-tier').value;
    const rows = document.querySelectorAll('#main-table tr');
    
    rows.forEach(row => {
        const sku = row.querySelector('.sku-input').value.trim().toUpperCase();
        const product = productDB[sku];
        if (product) {
            row.querySelector('.price-input').value = product.prices[tier];
        }
    });
    calculateAll();
}

function calculateAll() {
    let totalMoney = 0;
    let totalPV = 0;

    const rows = document.querySelectorAll('#main-table tr');
    rows.forEach(row => {
        const unitPrice = parseFloat(row.querySelector('.price-input').value) || 0;
        const pv = parseFloat(row.querySelector('.p-pv').innerText) || 0;
        const qty = parseInt(row.querySelector('.qty-input').value) || 0;

        const subPrice = unitPrice * qty;
        const subPV = parseFloat((pv * qty).toFixed(2));

        row.querySelector('.s-price').innerText = "$ " + subPrice.toLocaleString();
        row.querySelector('.s-pv').innerText = subPV.toFixed(2);

        totalMoney += subPrice;
        totalPV += subPV;
    });

    document.getElementById('final-money').innerText = totalMoney.toLocaleString();
    document.getElementById('final-pv').innerText = totalPV.toFixed(2);
}

function resetForm() {
    if (confirm("ç¢ºå®šè¦é‡è¨­æ•´å¼µè¨‚å–®å—ï¼Ÿ")) {
        location.reload();
    }
}
</script>
</body>
</html>